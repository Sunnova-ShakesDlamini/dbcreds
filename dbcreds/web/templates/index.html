<!-- dbcreds/web/templates/index.html -->
{% extends "base.html" %}

{% block content %}
<div class="px-4 sm:px-0">
    <!-- Hero Section -->
    <div class="hero-section mb-8">
        <h1 class="text-3xl font-bold mb-2">Database Environments</h1>
        <p class="text-lg opacity-90">
            Manage your database credentials securely across different environments
        </p>
    </div>
    
    <div class="sm:flex sm:items-center mb-6">
        <div class="sm:flex-auto">
            <p class="text-sm text-gray-700">
                All credentials are encrypted and stored securely in your system's credential manager.
            </p>
        </div>
        <div class="mt-4 sm:ml-16 sm:mt-0 sm:flex-none">
            <button type="button" 
                    class="btn-primary block rounded-md px-3 py-2 text-center text-sm font-semibold shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"
                    hx-get="/environments/new"
                    hx-target="#modal">
                Add Environment
            </button>
        </div>
    </div>
    
    <!-- Environment list -->
    <div class="card" id="environment-list" hx-get="/environments" hx-trigger="load">
        <!-- Loading state -->
        <div class="flex justify-center p-8">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-dbcreds-blue"></div>
        </div>
    </div>
</div>

<!-- Modal container -->
<div id="modal"></div>
{% endblock %}
